<div>
    <%= link_to "Back", workout_plans_path, class: "
      inline-flex items-center gap-2
      px-4 py-2
      text-sm font-medium
      text-gray-700
      bg-white
      border border-gray-300
      rounded-md
      hover:bg-gray-50
      active:bg-gray-100
      transition
    " %>
  <div class="mt-6 mb-8"> 

  <h1 class="font-bold text-4xl mb-2">Edit <%= @workout_plan.name %></h1>
  <%= simple_form_for @workout_plan do |f| %>
    <%= f.error_notification %>
    
    <%= f.input :name, input_html: { class: "!text-black" } %>
    <%= f.input :comment, input_html: { class: "!text-black" } %>


<div class="mb-4">
  <%= f.label :exercise_ids, "Select Exercises", class: "block text-sm font-medium text-gray-700 mb-2" %>

  <div class="grid grid-cols-2 gap-4">
    <%= f.collection_check_boxes :exercise_ids, @exercises, :id, :name do |b| %>
      <label class="cursor-pointer block relative">
        <!-- REAL, VISIBLE checkbox (controls state + is actually checked) -->
        <%= b.check_box class: "
            peer absolute right-4 top-1/2 -translate-y-1/2
            w-4 h-4
            accent-blue-500
            border border-default-medium rounded-xs 
            bg-neutral-secondary-medium
            checked:bg-blue-500 checked:border-blue-500 checked:text-white 
            focus:ring-2 focus:ring-brand-soft
          " %>

        <!-- CARD reacts to the checkbox state -->
        <div class="
          border border-gray-200 rounded-md p-4 pr-10
          transition
          hover:border-gray-400 hover:bg-gray-50 active:bg-gray-100
          peer-checked:border-blue-500 peer-checked:bg-blue-50
        ">
          <div class="flex items-center justify-between w-full">
            <span class="text-gray-700"><%= b.text %></span>
          </div>
        </div>
      </label>
    <% end %>
  </div>
</div>
  <div class="mt-6 flex justify-end">
    <%= f.button :submit, "Save Changes",
      class: "px-4 py-2 text-base font-medium leading-6 text-white
              whitespace-no-wrap bg-blue-600 border border-blue-700 
              rounded-md shadow-sm hover:bg-blue-700 focus:outline-none 
              focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 cursor-pointer"
     %>
  </div>
  <% end %>

</div>